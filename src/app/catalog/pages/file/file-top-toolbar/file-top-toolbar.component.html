<ul class="list-unstyled">
  <li *ngFor="let tool of tools">
    <button
      mat-button
      #menuTrigger="matMenuTrigger"
      [matMenuTriggerFor]="menu"
      [ngClass]="{
        'menu-opened': menuTrigger.menuOpen
       }">
      {{'common.' + tool.name | translate}}
    </button>
    <mat-menu
      [class]="tool.name"
      class="toolbar-menu"
      #menu="matMenu">
      <ng-container *ngFor="let item of tool?.subItems">
        <ng-container *ngIf="item.subItems?.length; else withoutSubItemsTemplate">
          <button
            mat-menu-item
            [matMenuTriggerFor]="subMenu"
            [disabled]="
              (item.name === toolbarEditItem.ALIGN_ELEMENTS ||
              item.name === toolbarEditItem.DISTRIBUTE_ELEMENTS ||
              item.name === toolbarEditItem.MOVE_SELECTION) &&
              !bpmnModeler.hasSelectedElements
            ">
            {{'common.' + item.name | translate}}
          </button>
          <mat-menu #subMenu="matMenu">
            <ng-container *ngFor="let subItem of item.subItems">
              <np-toolbar-action-btn
                [action]="subItem"
                [file]="file">
              </np-toolbar-action-btn>
            </ng-container>
          </mat-menu>
        </ng-container>
        <ng-template #withoutSubItemsTemplate>
          <np-toolbar-action-btn
            [action]="item"
            [file]="file">
          </np-toolbar-action-btn>
        </ng-template>
        <mat-divider *ngIf="item.delimiterAfter"></mat-divider>
      </ng-container>
    </mat-menu>
  </li>
  <li>
    <button
      class="icon-btn"
      mat-button
      #menuTrigger="matMenuTrigger"
      [matMenuTriggerFor]="colorMenu"
      [disabled]="!bpmnModeler.hasSelectedElements"
      [ngClass]="{
        'menu-opened': menuTrigger.menuOpen
       }">
      <mat-icon>
        <svg version="1.1" id="Capa_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"
             x="0px" y="0px" viewBox="0 0 452.698 452.698" style="enable-background:new 0 0 452.698 452.698;"
             xml:space="preserve"><g><path d="M443.911,156.283L421.4,133.773c-7.579-7.579-18.372-10.354-28.306-7.94c2.416-9.938-0.364-20.729-7.94-28.306l-48.83-48.83c-4.514-4.514-10.21-7.353-16.215-8.367c-1.015-6.01-3.858-11.706-8.367-16.215L296.414,8.787c-11.716-11.716-30.711-11.716-42.427,0L100.481,162.294c-11.716,11.715-11.716,30.71,0,42.426l32.694,32.694c3.065,3.064,4.551,7.294,4.078,11.604c-0.473,4.31-2.849,8.122-6.519,10.461c-97.448,62.117-106.6,71.269-110.509,75.178c-26.967,26.967-26.968,70.847,0,97.813c26.967,26.968,70.846,26.968,97.814,0c3.909-3.909,13.062-13.062,75.178-110.509c2.327-3.651,6.136-6.016,10.451-6.49c4.332-0.476,8.565,1,11.615,4.05l32.694,32.694c11.716,11.716,30.711,11.715,42.427,0L443.911,198.71C455.626,186.994,455.626,167.999,443.911,156.283z M269.191,331.004l-32.694-32.694c-9.479-9.479-22.776-14.121-36.101-12.658c-13.325,1.463-25.27,8.882-32.475,20.186c-27.532,43.192-62.214,96.542-71.094,105.421c-15.295,15.295-40.093,15.295-55.388,0c-15.295-15.295-15.295-40.092,0-55.388c8.879-8.879,62.229-43.561,105.421-71.094c11.31-7.209,18.75-19.152,20.213-32.484s-3.202-26.608-12.685-36.092l-32.694-32.694l23.841-23.841l0,0l147.496,147.496L269.191,331.004z M314.264,285.93L314.264,285.93L166.767,138.434L275.201,30l15.328,15.327L273.41,83.303c-0.583,1.294-0.304,2.813,0.697,3.814c0.01,0.01,0.021,0.02,0.031,0.03c1.027,1.001,2.57,1.253,3.862,0.631l37.111-17.868l48.83,48.83l-65.291,97.305c-0.909,1.354-0.732,3.161,0.421,4.313c0.002,0.002,0.005,0.005,0.007,0.007c1.158,1.152,2.972,1.32,4.322,0.402l96.787-65.782l22.511,22.51L314.264,285.93z"/><circle
          cx="73.846" cy="378.852" r="17.666"/></g>
          <g></g>
          <g></g>
          <g></g>
          <g></g>
          <g></g>
          <g></g>
          <g></g>
          <g></g>
          <g></g>
          <g></g>
          <g></g>
          <g></g>
          <g></g>
          <g></g>
          <g></g></svg>
      </mat-icon>
    </button>
    <mat-menu
      class="toolbar-menu colors-palette-menu"
      #colorMenu="matMenu">
      <ol class="list-unstyled colors-palette d-flex flex-wrap no-gutters">
        <li *ngFor="let item of paletteColors"
            class="col-4">
          <button
            mat-menu-item
            title="{{item.title | translate}}"
            (click)="bpmnModeler.paintElements(item)">
            <span
              [ngStyle]="{'background': item.fill, 'border-color': item.stroke}"
              class="color-scheme-sample">
            </span>
          </button>
        </li>
      </ol>
    </mat-menu>
  </li>
  <li>
    <button
      class="icon-btn"
      mat-button
      (click)="openWysiwygEditor()">
      <mat-icon>
        <svg xmlns="http://www.w3.org/2000/svg" width="512" height="512" viewBox="0 0 512 512"><g><path d="M496,88a8,8,0,0,0,8-8V16a8,8,0,0,0-8-8H432a8,8,0,0,0-8,8V40H88V16a8,8,0,0,0-8-8H16a8,8,0,0,0-8,8V80a8,8,0,0,0,8,8H40V424H16a8,8,0,0,0-8,8v64a8,8,0,0,0,8,8H80a8,8,0,0,0,8-8V472H424v24a8,8,0,0,0,8,8h64a8,8,0,0,0,8-8V432a8,8,0,0,0-8-8H472V88ZM24,72V24H72V72ZM72,488H24V440H72Zm352-56v24H88V432a8,8,0,0,0-8-8H56V88H80a8,8,0,0,0,8-8V56H424V80a8,8,0,0,0,8,8h24V424H432A8,8,0,0,0,424,432Zm64,8v48H440V440ZM440,72V24h48V72Z"/><path d="M352,136H160a8,8,0,0,0-8,8v64a8,8,0,0,0,8,8h15a8,8,0,0,0,7.7-5.83L190.06,184H232V337.75l-25.94,6.49A8,8,0,0,0,200,352v16a8,8,0,0,0,8,8h96a8,8,0,0,0,8-8V352a8,8,0,0,0-6.06-7.76L280,337.75V184h41.94l7.36,26.17A8,8,0,0,0,337,216h15a8,8,0,0,0,8-8V144A8,8,0,0,0,352,136Zm-8,64h-.94l-7.36-26.17A8,8,0,0,0,328,168H272a8,8,0,0,0-8,8V344a8,8,0,0,0,6.06,7.76L296,358.25V360H216v-1.75l25.94-6.49A8,8,0,0,0,248,344V176a8,8,0,0,0-8-8H184a8,8,0,0,0-7.7,5.83L168.94,200H168V152H344Z"/><path d="M360,392H152a8,8,0,0,0,0,16H360a8,8,0,0,0,0-16Z"/><path d="M288,416H224a8,8,0,0,0,0,16h64a8,8,0,0,0,0-16Z"/></g></svg>
      </mat-icon>
    </button>
  </li>
</ul>
