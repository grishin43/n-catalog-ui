<header>
  <div class="container-fluid h-100 mw-100">
    <div class="row h-100 align-items-center flex-nowrap">
      <a class="col-auto logo-col tab"
         [ngClass]="{'active': !currentId}"
         matRipple
         matRippleColor="{{rippleLightColor}}"
         [routerLink]="'/'">
        <svg width="40" height="40" viewBox="0 0 40 40" fill="none" xmlns="http://www.w3.org/2000/svg">
          <path
            d="M22.6412 28.3367V22.749H17.8908V28.3367H14.2596L18.6701 32.7472C19.5572 33.6343 20.9914 33.6343 21.8785 32.7472L26.289 28.3367H22.6412ZM11.8803 25.9574V13.9363L7.46975 18.3468C6.58267 19.2338 6.58267 20.6681 7.46975 21.5552L11.8803 25.9574ZM17.8908 11.5652V17.1529H22.6412V11.5652H26.2724L21.8619 7.15469C20.9748 6.26761 19.5406 6.26761 18.6535 7.15469L14.243 11.5652H17.8908ZM33.054 18.3468L28.6435 13.9363V25.9574L33.054 21.5552C33.941 20.6681 33.941 19.2338 33.054 18.3468Z"
            fill="#DA292B"/>
        </svg>
      </a>
      <div
        class="col file-tabs-col"
        [ngClass]="{
           'search-form-stretched': searchFormStretched,
           'mw-100': currentId
        }">
        <div class="row align-items-center flex-nowrap">
          <div class="col-auto tab"
               *ngFor="let entity of catalogEntities | async"
               matRipple
               matRippleColor="{{rippleLightColor}}"
               matTooltip="{{entity.name}}"
               [ngClass]="{'active': entity.id === currentId}"
               [ngStyle]="{'max-width': 'calc(100% / ' + (catalogEntities | async).length + ')'}"
               (click)="openProcess(entity)">
            <span class="entity-name">
               {{entity.name}}
            </span>
            <button
              mat-button
              (click)="onDeleteClicked($event, entity)">
              <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path
                  d="M18.3 5.7107C17.91 5.3207 17.28 5.3207 16.89 5.7107L12 10.5907L7.10997 5.7007C6.71997 5.3107 6.08997 5.3107 5.69997 5.7007C5.30997 6.0907 5.30997 6.7207 5.69997 7.1107L10.59 12.0007L5.69997 16.8907C5.30997 17.2807 5.30997 17.9107 5.69997 18.3007C6.08997 18.6907 6.71997 18.6907 7.10997 18.3007L12 13.4107L16.89 18.3007C17.28 18.6907 17.91 18.6907 18.3 18.3007C18.69 17.9107 18.69 17.2807 18.3 16.8907L13.41 12.0007L18.3 7.1107C18.68 6.7307 18.68 6.0907 18.3 5.7107Z"
                  fill="#B8C1CB"/>
              </svg>
            </button>
          </div>
        </div>
      </div>
      <ng-container *ngIf="!currentId">
        <div class="col-auto ml-auto">
          <np-header-search
            (formHasStretched)="searchFormStretched = $event">
          </np-header-search>
        </div>
        <a matRipple
           matRippleColor="{{rippleLightColor}}"
           class="col-auto profile-col"
           [matMenuTriggerFor]="notifications">
          <mat-icon>
            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
              <path d="M12 22C13.1 22 14 21.1 14 20H10C10 21.1 10.9 22 12 22ZM18 16V11C18 7.93 16.37 5.36 13.5 4.68V4C13.5 3.17 12.83 2.5 12 2.5C11.17 2.5 10.5 3.17 10.5 4V4.68C7.64 5.36 6 7.92 6 11V16L4 18V19H20V18L18 16ZM16 17H8V11C8 8.52 9.51 6.5 12 6.5C14.49 6.5 16 8.52 16 11V17Z" fill="#8A95A3"/>
            </svg>
          </mat-icon>
        </a>
        <mat-menu
          class="mh-auto"
          #notifications="matMenu">
          <button
            mat-menu-item
            disabled>
            {{'common.noNotifications' | translate}}
          </button>
        </mat-menu>
        <a matRipple
           matRippleColor="{{rippleLightColor}}"
           [matMenuTriggerFor]="menu"
           class="col-auto profile-col">
          <np-avatar
            [type]="'initials'"
            [size]="'md'"
            [data]="'MO'"
            [theme]="'dark'">
          </np-avatar>
        </a>
        <mat-menu
          class="mh-auto"
          #menu="matMenu"
          xPosition="before">
          <button
            mat-menu-item
            (click)="logout()">
            <span>
              {{'common.logout' | translate}}
            </span>
          </button>
        </mat-menu>
      </ng-container>
    </div>
  </div>
</header>
